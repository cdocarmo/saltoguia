{% extends "base.html" %}
{% load i18n %}

{% block title %}Crear usuario{% endblock %}

{% block css %}
	<link rel="stylesheet" type="text/css" href="media/css/formStyles.css" media="all" />
	<link rel="stylesheet" type="text/css" href="media/css/userBrownserStyles.css" media="all" />
{% endblock %}

{% block ayudas %}
<div id="form-description">
	<!--REGISTRO-->
	<p class="description" id="help_validation">{{ form_perfil.validation.help_text }}</p>
	<p class="description" id="help_username">{{ form_register.username.help_text }}</p>
	<p class="description" id="help_email">{{ form_register.email.help_text }}</p>
	<p class="description" id="help_pass1">{{ form_register.password1.help_text }}</p>
	<p class="description" id="help_pass2">{{ form_register.password2.help_text }}</p>
	<!--PERFIL-->
	<p class="description" id="help_tipo">{{ form_perfil.tipo.help_text }}</p>
	<p class="description" id="help_nombre">{{ form_perfil.nombre.help_text }}</p>
	<p class="description" id="help_domicilio">{{ form_perfil.domicilio.help_text }}</p>
	<p class="description" id="help_documento">{{ form_perfil.documento.help_text }}</p>
	<p class="description" id="help_celular">{{ form_perfil.celular.help_text }}</p>
	<p class="description" id="help_telefono">{{ form_perfil.telefono.help_text }}</p>
	<p class="description" id="help_mail_prof">{{ form_perfil.mail_profesional.help_text }}</p>
	<p class="description" id="help_web">{{ form_perfil.web.help_text }}</p>
	<p class="description" id="help_imagen">Elige una imagen para identificar tu empresa o servicio (por ej. un logo)</p>
	<p class="description" id="help_descripcion">{{ form_perfil.descripcion.help_text }}</p>
	<!--SERVICIO-->
	<p class="description" id="help_nombre_servicio">{{ form_servicio_nuevo.nombre_servicio.help_text }}</p>
	<p class="description" id="help_desc_servicio">{{ form_servicio_nuevo.desc_servicio.help_text }}</p>
	<p class="description" id="help_tags">{{ form_servicio_nuevo.tags.help_text }}</p>
</div>
{% endblock %}

{% block content %}
	
	<!--<h3>Crear usuario</h3>-->
	<br />
	<form action="" method="post" class="forms form_company_singup">
		{% csrf_token %}
		<!--<div id="company_data">
			<li id="registro">
				<legend>{% trans "Registrarse" %}</legend>
				{{ form_register.as_br }}
  				<input type="button" value="Siguiente" class="save-button">
			</li>
			<li id="perfil">
				<legend>{% trans "Completar perfil" %}</legend>
				{{ form_perfil.as_br }}
  				<input type="button" value="Siguiente" class="save-button">
			</li>
			<li id="nuevo_servicio">
				<legend>{% trans "Agregar nuevo servicio" %}</legend>
				{{ form_servicio_nuevo.as_br }}
  				<input type="submit" value="Finalizar" class="save-button">
			</li>
		</div>-->
		<ul id="carrusel">
			<li id="registro">
				<legend>{% trans "Registrarse" %}</legend>
				{{ form_perfil.validation.label_tag }}<br />
				{{ form_perfil.validation }}<br />
				{% if form_perfil.validation.errors %}<span class="error_msg">{{ form_perfil.validation.errors|join:"; " }}</span>{% endif %}
					
				{{ form_register.as_br }}
				<div class="primer-form-buttons">
  					<input type="button" value="Siguiente" class="save-button next">
  				</div>
			</li>
			<li id="perfil">
				<legend>{% trans "Completar perfil" %}</legend>
				<div class="column_form">
					{{ form_perfil.tipo.label_tag }}<br />
					{{ form_perfil.tipo }}<br />
					{% if form_perfil.tipo.errors %}<span class="error_msg">{{ form_perfil.tipo.errors|join:"; " }}</span>{% endif %}
					
					{{ form_perfil.nombre.label_tag }}<br />
					{{ form_perfil.nombre }}<br />
					{% if form_perfil.nombre.errors %}<span class="error_msg">{{ form_perfil.nombre.errors|join:"; " }}</span>{% endif %}
			
					{{ form_perfil.domicilio.label_tag }}<br />
					{{ form_perfil.domicilio }}<br />
					{% if form_perfil.domicilio.errors %}<span class="error_msg">{{ form_perfil.domicilio.errors|join:"; " }}</span><br />{% endif %}
			
					{{ form_perfil.documento.label_tag }}<br />
					{{ form_perfil.documento }}<br />
					{% if form_perfil.documento.errors %}<span class="error_msg">{{ form_perfil.documento.errors|join:"; " }}</span>{% endif %}
			
			
					{{ form_perfil.telefono.label_tag }}<br />
					{{ form_perfil.telefono }}<br />
				</div>
				<div class="column_form">
					{{ form_perfil.celular.label_tag }}<br />
					{{ form_perfil.celular }}<br />
					{% if form_perfil.celular.errors %}<span class="error_msg">{{ form_perfil.celular.errors|join:"; " }}</span>{% endif %}
			
				    {{ form_perfil.mail_profesional.label_tag }}<br />
				    {{ form_perfil.mail_profesional }}<br />
				    {% if form_perfil.mail_profesional.errors %}<span class="error_msg">{{ form_perfil.mail_profesional.errors|join:"; " }}<br /></span>{% endif %}
			
				    {{ form_perfil.web.label_tag }}<br />
				    {{ form_perfil.web }}<br />
				    {% if form_perfil.web.errors %}<span class="error_msg">{{ form_perfil.web.errors|join:"; " }}</span>{% endif %}
			
					<!--<p class="upload-avatar">
						{{ form_perfil.logo.label_tag }}<br/>
						
						{{ form_perfil.logo }}{% if logo.field.required %} <span title="{% trans "This field is required" %}">*</span>{% endif %}<br />
						<span>{{ form_perfil.logo.help_text }}</span>
						{% if form_perfil.logo.errors %} 
							<span class="error_msg">{{ form_perfil.logo.errors|join:"; " }}</span>
					    {% endif %}  
					</p>-->
					 
					{{ form_perfil.descripcion.label_tag }}<br />
					{{ form_perfil.descripcion }}<br />
					{% if form_perfil.descripcion.errors %}<span class="error_msg">{{ form_perfil.descripcion.errors|join:"; " }}</span>{% endif %}
				</div>
				<div class="form-buttons">
					<input type="button" value="Anterior" class="save-button prev">
  					<input type="button" value="Siguiente" class="save-button next">
  				</div>
			</li>
			<li id="nuevo_servicio">
				<legend>{% trans "Agregar nuevo servicio" %}</legend>
				{{ form_servicio_nuevo.as_br }}
				
				{{ form_servicio_nuevo.tags.label_tag }}<br />
					{{ form_servicio_nuevo.tags }}<br />
					{% if form_servicio_nuevo.tags.errors %}<span class="error_msg">{{ form_servicio_nuevo.tags.errors|join:"; " }}</span>{% endif %}
				<div class="form-buttons">
					<input type="button" value="Anterior" class="save-button prev">
  					<input type="submit" value="Finalizar" class="save-button">
  				</div>
			</li>
		</ul>
	</form>

{% endblock %}

{% block js %}
<script type="text/javascript" src="/media/js/jquery.jcarousel.min.js"></script>	
<script type="text/javascript">
		//var init = true
		function posicionar_helpers(){
			
			var top, left, altura, anchura;
			altura = screen.height;
			anchura = screen.width;
			//top = altura / 10;
			//left = anchura / 4;
			top = -50;
			left = 200;
			if (anchura <= 800) {
				 left = 200; 
			}
			$("div.form-description").css({"left":left.toString(),"top":top.toString()});
		}
		//MOUSE EVENTS
		//$('.form_company_singup').mouseover(function(){
		//	if (init) {
		//		posicionar_helpers();
		//		init = false;
		//	}
		//});
		//REGISTRO//
		$('#id_validation').mouseover(function(e){
			aparecer('validation', e);
		});
		$('#id_validation').mouseout(function(e){
			desaparecer('validation', e);
		});
		
		$('#id_username').mouseover(function(e){
			aparecer('username', e);
		});
		$('#id_username').mouseout(function(e){
			desaparecer('username', e);
		});
		
		$('#id_email').mouseover(function(e){
			aparecer('email', e);
		});
		$('#id_email').mouseout(function(e){
			desaparecer('email', e);
		});
		
		$('#id_password1').mouseover(function(e){
			aparecer('pass1', e);
		});
		$('#id_password1').mouseout(function(e){
			desaparecer('pass1', e);
		});
		
		$('#id_password2').mouseover(function(e){
			aparecer('pass2', e);
		});
		$('#id_password2').mouseout(function(e){
			desaparecer('pass2', e);
		});
		
		//PERFIL//
		$('#id_nombre').mouseover(function(e){
			aparecer('nombre', e);
		});
		$('#id_nombre').mouseout(function(e){
			desaparecer('nombre', e);
		});
		
		$('#id_tipo').mouseover(function(e){
			aparecer('tipo', e);
		});
		$('#id_tipo').mouseout(function(e){
			desaparecer('tipo', e);
		});
		
		$('#id_domicilio').mouseover(function(e){
			aparecer('domicilio', e);
		});
		$('#id_domicilio').mouseout(function(e){
			desaparecer('domicilio', e);
		});
		
		$('#id_documento').mouseover(function(e){
			aparecer('documento', e);
		});
		$('#id_documento').mouseout(function(e){
			desaparecer('documento', e);
		});
		
		$('#id_celular').mouseover(function(e){
			aparecer('celular', e);
		});
		$('#id_celular').mouseout(function(e){
			desaparecer('celular', e);
		});
		
		$('#id_telefono').mouseover(function(e){
			aparecer('telefono', e);
		});
		$('#id_telefono').mouseout(function(e){
			desaparecer('telefono', e);
		});
		
		$('#id_mail_profesional').mouseover(function(e){
			aparecer('mail_prof', e);
		});
		$('#id_mail_profesional').mouseout(function(e){
			desaparecer('mail_prof', e);
		});
		
		$('#id_web').mouseover(function(e){
			aparecer('web', e);
		});
		$('#id_web').mouseout(function(e){
			desaparecer('web', e);
		});
		
		$('#id_imagen').mouseover(function(e){
			aparecer('imagen', e);
		});
		$('#id_imagen').mouseout(function(e){
			desaparecer('imagen', e);
		});
		
		$('#id_descripcion').mouseover(function(e){
			aparecer('descripcion', e);
		});
		$('#id_descripcion').mouseout(function(e){
			desaparecer('descripcion', e);
		});
		
		//SERVICIO//
		$('#id_nombre_servicio').mouseover(function(e){
			aparecer('nombre_servicio', e);
		});
		$('#id_nombre_servicio').mouseout(function(e){
			desaparecer('nombre_servicio', e);
		});
		
		$('#id_desc_servicio').mouseover(function(e){
			aparecer('desc_servicio', e);
		});
		$('#id_desc_servicio').mouseout(function(e){
			desaparecer('desc_servicio', e);
		});
		
		$('#id_tags').mouseover(function(e){
			aparecer('tags', e);
		});
		$('#id_tags').mouseout(function(e){
			desaparecer('tags', e);
		});
		
		function aparecer(control, e){
			e.preventDefault();
			$("#help_"+control).fadeIn("slow");
		}
		function desaparecer(control, e){
			e.preventDefault();
			$("#help_"+control).fadeOut("fast");
		}
		
	function carrusel_init (carrusel) {
		jQuery('.next').bind('click', function() {
			carrusel.next();
			return false;
		});
		jQuery('.prev').bind('click', function() {
			carrusel.prev();
			return false;
		}); 
	}
	jQuery(document).ready(function() {
	    jQuery('#carrusel').jcarousel({
	        scroll: 1,
	        initCallback: carrusel_init,
	        buttonNextHTML: null,
	        buttonPrevHTML: null,
	    });
	    //posicionar_helpers();
	});	
</script>
{% endblock %}
